This is the origianl code.
